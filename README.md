# SSHCheck

## Описание

**SSHCheck** — это инструмент для проверки SSH-учетных данных, который позволяет эффективно тестировать большое количество учетных записей для подключения к удаленным серверам. Скрипт поддерживает многопоточную обработку, записывает логи в файлы и консоль с цветной подсветкой для удобства восприятия.

## Функционал и Возможности

### 1. Проверка SSH-учетных данных

- **Подключение к серверам:** Пытается подключиться к SSH-серверам, используя предоставленные учетные данные (IP-адрес, порт, имя пользователя и пароль). Используется библиотека [`paramiko`](http://docs.paramikro.org/) для работы с SSH.
- **Ручное указание учетных данных:** Учетные данные считываются из текстового файла с разделением по символу `;`, что позволяет легко обновлять список серверов и пользователей.

### 2. Многопоточность

- **Параллельная проверка:** Используется `ThreadPoolExecutor` из модуля `concurrent.futures` для одновременной проверки нескольких учетных записей, что значительно ускоряет процесс.
- **Настройка числа потоков:** Количество потоков настраивается в конфигурационном файле (`config.json`) для оптимизации производительности в зависимости от доступных ресурсов.

### 3. Логирование

- **Файловое логирование:** Логи записываются в файлы, разделенные по уровням (DEBUG, INFO, WARNING, ERROR, CRITICAL). Используется стандартный модуль `logging` для управления логами.
- **Цветная подсветка в консоли:** Логи в консоли окрашиваются с помощью ANSI-кодов для выделения уровней логов и IP-адресов, что делает вывод более читаемым.

### 4. Статистика выполнения

- **Подсчет успешных и неудачных попыток:** Выводится общая статистика по проверенным IP-адресам, включая количество успешных подключений и ошибок.
- **Среднее время на подключение:** Рассчитывается среднее время, затраченное на проверку одного набора учетных данных, что позволяет оценить производительность.
- **Частота ошибок:** Сбор статистики по наиболее частым ошибкам для дальнейшего анализа.

### 5. Настройка

- **Файл конфигурации (`config.json`):** Настройка параметров проверки, таких как тайм-аут подключения, количество повторных попыток и число одновременных потоков. Пример конфигурационного файла приведен ниже.
- **Файл с учетными данными (`credentials.txt`):** Формат файла для указания хоста, порта, имени пользователя и пароля. Учетные данные читаются построчно.

#### Пример конфигурационного файла `config.json`

```json
{
    "ssh": {
        "timeout": 5,
        "max_retries": 1,
        "kex": [
            "diffie-hellman-group-exchange-sha256",
            "ecdsa-sha2-nistp256",
            "curve25519-sha256",
            "diffie-hellman-group1-sha1",
            "diffie-hellman-group14-sha1",
            "diffie-hellman-group14-sha256",
            "diffie-hellman-group16-sha512",
            "diffie-hellman-group18-sha512",
            "ecdh-sha2-nistp256",
            "ecdh-sha2-nistp384",
            "ecdh-sha2-nistp521",
            "ssh-dss",
            "ssh-rsa",
            "ecdsa-sha2-nistp256",
            "ecdsa-sha2-nistp384",
            "ecdsa-sha2-nistp521",
            "ssh-ed25519"
        ],
        "cipher": [
            "aes128-ctr",
            "aes192-ctr",
            "aes256-ctr",
            "3des-cbc",
            "aes128-cbc",
            "aes192-cbc",
            "aes256-cbc",
            "chacha20-poly1305@openssh.com"
        ],
        "mac": [
            "hmac-sha2-256",
            "hmac-sha2-512",
            "hmac-md5",
            "hmac-md5-96",
            "hmac-sha1",
            "hmac-sha1-96"
        ]
    },
    "async": {
        "max_workers": 50
    }
}